如果你从未接触过 Web3，区块链，又未体验过MetaMask、OneKey、 TP Wallet等钱包。  

知乎搜索“区块链如何入门？”，全是区块链各种专业名词，但就是不知从何下手。

转行 web3系列文章，就是从众多信息中提炼出来的，你只需要跟着做填空题，就很能从小白到专家。

## 签了名，就不能赖账

我在带团队，做 Web3 IM 社交的时候，前半年时间，我们对区块链理解最多，体会最多的就是「签名」。

为了方便，你理解，我举一个例子，假设：小明转了100块钱给码农浪哥。

但码农浪个说，没有小明没有赚钱，或者，只转了10块钱，当然，了解我人品的，都知道，这不是我干出来的事。

这时，小明，为了防止码农浪哥，耍无赖，怎么办？

让码农浪哥，用他的私钥，对“小明转了100块钱给码农浪哥”，这一句话，进行签名。

码农浪哥私钥：
```
64946dbe03f1b8bcfacc95a7242da55e16cf2b9536d249414520f2cf8017ef1a
```

签名结果：
```
b01ad1dc888e5a97a7549895a1e189dda875a4429b6f2936e9ef177af8dc421f3061007dc297e752833e068070d5eca45d3034ca64cc7d40cc7a57bc7a0cbfd401
```

```go
func Test_Sign(t *testing.T) {
	coderlangPrivateKey := "64946dbe03f1b8bcfacc95a7242da55e16cf2b9536d249414520f2cf8017ef1a"

	privateKey, err := crypto.HexToECDSA(coderlangPrivateKey)
	if err != nil {
		panic(fmt.Sprintf("privateKey %s err=%v", coderlangPrivateKey, err))
	}
	publicKey := privateKey.PublicKey

	// 打印公钥
	println("PublicKey: ", hex.EncodeToString(crypto.CompressPubkey(&publicKey)))
	println("Address: ", crypto.PubkeyToAddress(publicKey).Hex())
	// 要签名的数据
	data := []byte("小明借了100块钱给码农浪哥")

	// 对数据进行哈希
	hash := crypto.Keccak256Hash(data)
	fmt.Println("Hash: ", hex.EncodeToString(hash.Bytes()))
	// 使用私钥对数据哈希进行签名
	signature, err := crypto.Sign(hash.Bytes(), privateKey)
	if err != nil {
		fmt.Println("Error signing data:", err)
		return
	}

	// 打印签名
	fmt.Println("Signature: ", hex.EncodeToString(signature))
}
```

```shell
=== RUN   Test_Sign
PublicKey:  021c6aaafaaff078ae564c8399f934934b97c5c2e9f5a47c040a4fb45fb1f147f8
Address:  0xA7E69615c4D04F21e9b8AA6f860138d7C5021c57
Hash:  c41a2644197cb4d8127bc55f4f7c39bcfc3d1ba8dd25fd05d238421aed8f5b30
Signature:  206f60cd423f90f65343ad29285ea059569cc1ab7a0bc7c824710a9d87b1d9586edfabf3ab4221abb8f5f37eecf8c328d75d284f6ea3166b32c7993f5db0219600
--- PASS: Test_Sign (0.00s)
PASS
```

我们将“小明转了100块钱给码农浪哥”转换为，代码结构
```go
type Msg struct {
	From   string
	Method string
	To     string
	Value  int
}
```

假设小明的地址为`5992d4246bB01672C8B96847342eBd5663A0f377`,签名数据则为
```go
	data, _ := json.Marshal(Msg{
		From:   crypto.PubkeyToAddress(publicKey).Hex(),
		To:     "5992d4246bB01672C8B96847342eBd5663A0f377",
		Method: "Transfer",
		Value:  100,
	})
```

当然，实际情况，要复杂一些。

私钥 -> 公钥