### 什么是签名？

签名是一种用于确保交易的真实性和完整性的重要工具。   

为了方便你理解，我举一个例子，假设：小明转了100块钱给coderlang。

但coderlang说：“小明没有转”，或者说：“小明只转了10块钱”，当然，了解coderlang的人，都知道，他干不出来这种事。

但，小明不了解coderlang，为了防止coderlang不认账，小明怎么办？

小明让coderlang，用他的私钥，对“小明转了100块钱给coderlang”，这一句话，进行签名。

> coderlang: 什么是私钥？ 
> 
> ChatGPT: 私钥用于生成数字签名，这是一种用于验证数据真实性和完整性的技术。发送方使用私钥对数据进行签名，接收方可以使用相应的公钥来验证签名，以确保数据来自合法发送方且未被篡改。

假设coderlang的私钥：
```
64946dbe03f1b8bcfacc95a7242da55e16cf2b9536d249414520f2cf8017ef1a
```

“小明转了100块钱给coderlang”签名结果：
```
206f60cd423f90f65343ad29285ea059569cc1ab7a0bc7c824710a9d87b1d9586edfabf3ab4221abb8f5f37eecf8c328d75d284f6ea3166b32c7993f5db0219600
```

测试代码：
```go
func Test_Sign(t *testing.T) {
	coderlangPrivateKey := "64946dbe03f1b8bcfacc95a7242da55e16cf2b9536d249414520f2cf8017ef1a"

	privateKey, err := crypto.HexToECDSA(coderlangPrivateKey)
	if err != nil {
		panic(fmt.Sprintf("privateKey %s err=%v", coderlangPrivateKey, err))
	}
	publicKey := privateKey.PublicKey

	// 打印公钥
	println("PublicKey: ", hex.EncodeToString(crypto.CompressPubkey(&publicKey)))
	println("Address: ", crypto.PubkeyToAddress(publicKey).Hex())
	// 要签名的数据
	data := []byte("小明借了100块钱给coderlang")

	// 对数据进行哈希
	hash := crypto.Keccak256Hash(data)
	fmt.Println("Hash: ", hex.EncodeToString(hash.Bytes()))
	// 使用私钥对数据哈希进行签名
	signature, err := crypto.Sign(hash.Bytes(), privateKey)
	if err != nil {
		fmt.Println("Error signing data:", err)
		return
	}

	// 打印签名
	fmt.Println("Signature: ", hex.EncodeToString(signature))
}
```

测试结果：
```shell
=== RUN   Test_Sign
PublicKey:  021c6aaafaaff078ae564c8399f934934b97c5c2e9f5a47c040a4fb45fb1f147f8
Address:  0xA7E69615c4D04F21e9b8AA6f860138d7C5021c57
Hash:  c41a2644197cb4d8127bc55f4f7c39bcfc3d1ba8dd25fd05d238421aed8f5b30
Signature:  206f60cd423f90f65343ad29285ea059569cc1ab7a0bc7c824710a9d87b1d9586edfabf3ab4221abb8f5f37eecf8c328d75d284f6ea3166b32c7993f5db0219600
--- PASS: Test_Sign (0.00s)
PASS
```

小明很菜，又要设计产品，以为这样就安全了，将100块钱，转给coderlang，到了coderlang还款的时间，
小明，拿着coderlang签名，找coderlang还钱，结果coderlang，不还钱，问小明，你怎么证明小明就是你？

小明才恍然大悟，发现上当了。

coderlang告诉小明，你将“小明转了100块钱给coderlang”这一句话转换为，结构化的东西，主要包含：From, To, Method, Value 4 部分

```go
type Msg struct {
	From   string
	Method string
	To     string
	Value  int
}
```

```go
	data, _ := json.Marshal(Msg{
		From:   小明地址,
		To:     coderlang地址,
		Method: "Transfer",
		Value:  100,
	})
```

为了防止，coderlang，再逗小明，不认账，小明将以上，一笔交易，告诉了，全村的人，这也由不得coderlang赖账了。

当然，实际情况，要复杂一些。